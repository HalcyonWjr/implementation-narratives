"use strict";(self["webpackChunkimplementation_tracker"]=self["webpackChunkimplementation_tracker"]||[]).push([[110],{3110:function(t,e,l){l.r(e),l.d(e,{default:function(){return V}});var i=l(6252);const a={class:"country-layout"};function n(t,e,l,n,s,o){const r=(0,i.up)("trackerHeader"),c=(0,i.up)("countryHeader"),d=(0,i.up)("el-header"),u=(0,i.up)("asideFilter"),p=(0,i.up)("el-aside"),h=(0,i.up)("el-divider"),g=(0,i.up)("docList"),m=(0,i.up)("el-main"),k=(0,i.up)("el-container"),y=(0,i.up)("trackerFooter");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(r),(0,i._)("div",a,[(0,i.Wm)(k,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{title:s.title},null,8,["title"])])),_:1}),(0,i.Wm)(k,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,{width:"435px"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.filterList,((t,e)=>((0,i.wg)(),(0,i.j4)(u,{key:e,allOptions:t.value,title:t.title,allAgt:s.allAgt,onChangeDisplayList:o.changeDisplayList},null,8,["allOptions","title","allAgt","onChangeDisplayList"])))),128))])),_:1}),(0,i.Wm)(h,{direction:"vertical"}),(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(g,{dataListDisplayed:s.dataListDisplayed,title:s.title},null,8,["dataListDisplayed","title"])])),_:1})])),_:1})])),_:1})]),(0,i.Wm)(y)],64)}l(7658);var s=l(2201),o=l(4313),r=l(4310),c=l(3577);function d(t,e,l,a,n,s){const o=(0,i.up)("el-checkbox"),r=(0,i.up)("el-checkbox-group");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("h3",null,"Filter "+(0,c.zw)(l.title),1),(0,i.Wm)(o,{modelValue:n.checkAll,"onUpdate:modelValue":e[0]||(e[0]=t=>n.checkAll=t),indeterminate:n.isIndeterminate,onChange:s.handleCheckAllChange},{default:(0,i.w5)((()=>[(0,i.Uk)("Check all")])),_:1},8,["modelValue","indeterminate","onChange"]),(0,i.Wm)(r,{modelValue:n.checkedOptions,"onUpdate:modelValue":e[1]||(e[1]=t=>n.checkedOptions=t),onChange:s.handleCheckedOptionsChange},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.options,(t=>((0,i.wg)(),(0,i.j4)(o,{key:t,label:t},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(t),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue","onChange"])],64)}var u={props:{allOptions:Array,allAgt:Array,filterList:Array,title:String},emits:["changeDisplayList"],data(){return{checkAll:!0,checkedOptions:this.allOptions,options:this.allOptions,isIndeterminate:!0}},methods:{handleCheckAllChange(t){this.checkedOptions=t?this.topicOptions:[],this.isIndeterminate=!1;let e=[];0==this.checkAll?(e=[],this.checkedOptions=[],this.$emit("changeDisplayList",e)):(e=this.allAgt,this.checkedOptions=this.allOptions,this.$emit("changeDisplayList",e))},handleCheckedOptionsChange(t){let e=t.length;this.checkAll=e===this.options.length,this.isIndeterminate=e>0&&e<this.options.length;let l=[];for(let i of this.checkedOptions)for(let t of this.allAgt)(t.topics.includes(i)||t.year.includes(i)&&!l.includes(t))&&l.push(t);this.$emit("changeDisplayList",l)}}},p=l(3744);const h=(0,p.Z)(u,[["render",d],["__scopeId","data-v-9d171a94"]]);var g=h;const m=t=>((0,i.dD)("data-v-be90f708"),t=t(),(0,i.Cn)(),t),k={class:"country"},y=m((()=>(0,i._)("p",null,"Agreements",-1)));function f(t,e,l,a,n,s){return(0,i.wg)(),(0,i.iD)("div",k,[(0,i._)("h1",null,(0,c.zw)(l.title),1),y])}var w={props:["title"]};const D=(0,p.Z)(w,[["render",f],["__scopeId","data-v-be90f708"]]);var _=D;const v=t=>((0,i.dD)("data-v-b356b31c"),t=t(),(0,i.Cn)(),t),L=v((()=>(0,i._)("hr",null,null,-1)));function O(t,e,l,a,n,s){const o=(0,i.up)("el-link");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.dataListDisplayed,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"doc-list",key:t},[L,(0,i.Wm)(o,{class:"agt-link",onClick:e=>s.toAgtView(t)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(t.agt),1)])),_:2},1032,["onClick"]),(0,i._)("p",null,(0,c.zw)(t.date),1)])))),128)}var C={props:["dataListDisplayed","title"],data(){return{country:this.title}},methods:{toAgtView(t){this.$router.push({name:"agreement",query:{title:`${this.country}`,id:`${t.id}`,agtName:`${t.agt}`,agtDate:`${t.date}`}})}},setup(){}};const A=(0,p.Z)(C,[["render",O],["__scopeId","data-v-b356b31c"]]);var b=A,W=l(1634),H={components:{trackerHeader:o.Z,trackerFooter:r.Z,asideFilter:g,countryHeader:_,docList:b},data(){return{title:this.countryName,dataListDisplayed:this.agreementList,allAgt:this.agreementList,allOptions:this.topicOptions,filterList:[{title:"topics",value:this.topicOptions},{title:"dates",value:this.yearOptions}]}},methods:{changeDisplayList(t){this.dataListDisplayed=t}},setup(){const t=(0,s.yj)();let e=t.query.title,l={},i=[];for(let s of W.h)s.name==e&&(l=s);let a="",n=[],o="",r="",c=[],d=[];for(let s of l.topics){a=s.text,n.push(a);let t=[];for(let[e,l]of s.agreements.entries()){o=l.name,r=l.id;let n="";if(0==d.includes(o)){d.push(o),t.push(a);let e=l.date.toString(),s=e.slice(0,4),u=e.slice(4,6),p=e.slice(6,8);n=s+"-"+u+"-"+p,0==c.includes(s)&&c.push(s),i.push({agt:o,id:r,date:n,year:s,topics:t})}else i[e].topics.push(a)}}return console.log("列表",i),{countryName:e,data:l,agreementList:i,topicOptions:n,yearOptions:c}}};const I=(0,p.Z)(H,[["render",n],["__scopeId","data-v-cd8b4914"]]);var V=I}}]);
//# sourceMappingURL=110.77870bd4.js.map