"use strict";(self["webpackChunkimplementation_tracker"]=self["webpackChunkimplementation_tracker"]||[]).push([[522],{6522:function(e,t,i){i.r(t),i.d(t,{default:function(){return V}});var l=i(6252);const a={class:"country-layout"},n={class:"paginationClass"};function s(e,t,i,s,o,r){const c=(0,l.up)("trackerHeader"),d=(0,l.up)("countryHeader"),u=(0,l.up)("el-header"),p=(0,l.up)("asideFilter"),h=(0,l.up)("el-aside"),g=(0,l.up)("el-divider"),m=(0,l.up)("docList"),k=(0,l.up)("el-pagination"),y=(0,l.up)("el-main"),f=(0,l.up)("el-container"),w=(0,l.up)("trackerFooter");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c),(0,l._)("div",a,[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{title:o.title},null,8,["title"])])),_:1}),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,{width:"435px"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.filterList,((e,t)=>((0,l.wg)(),(0,l.j4)(p,{key:t,allOptions:e.value,title:e.title,allAgt:o.allAgt,onChangeDisplayList:r.changeDisplayList},null,8,["allOptions","title","allAgt","onChangeDisplayList"])))),128))])),_:1}),(0,l.Wm)(g,{direction:"vertical"}),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{dataListDisplayed:o.dataListDisplayed.slice(o.sizePerPage*(o.currentPage-1),o.sizePerPage*o.currentPage),title:o.title},null,8,["dataListDisplayed","title"]),(0,l._)("div",n,[(0,l.Wm)(k,{"page-size":o.sizePerPage,total:this.dataListDisplayed.length,"hide-on-single-page":"",onCurrentChange:r.currentChange},null,8,["page-size","total","onCurrentChange"])])])),_:1})])),_:1})])),_:1})]),(0,l.Wm)(w)],64)}i(7658);var o=i(2201),r=i(4313),c=i(4310),d=i(3577);function u(e,t,i,a,n,s){const o=(0,l.up)("el-checkbox"),r=(0,l.up)("el-checkbox-group");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("h3",null,"Filter "+(0,d.zw)(i.title),1),(0,l.Wm)(o,{modelValue:n.checkAll,"onUpdate:modelValue":t[0]||(t[0]=e=>n.checkAll=e),indeterminate:n.isIndeterminate,onChange:s.handleCheckAllChange},{default:(0,l.w5)((()=>[(0,l.Uk)("Check all")])),_:1},8,["modelValue","indeterminate","onChange"]),(0,l.Wm)(r,{modelValue:n.checkedOptions,"onUpdate:modelValue":t[1]||(t[1]=e=>n.checkedOptions=e),onChange:s.handleCheckedOptionsChange},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.options,(e=>((0,l.wg)(),(0,l.j4)(o,{key:e,label:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,d.zw)(e),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue","onChange"])],64)}var p={props:{allOptions:Array,allAgt:Array,filterList:Array,title:String},emits:["changeDisplayList"],data(){return{checkAll:!0,checkedOptions:this.allOptions,options:this.allOptions,isIndeterminate:!0}},methods:{handleCheckAllChange(e){this.checkedOptions=e?this.topicOptions:[],this.isIndeterminate=!1;let t=[];0==this.checkAll?(t=[],this.checkedOptions=[],this.$emit("changeDisplayList",t)):(t=this.allAgt,this.checkedOptions=this.allOptions,this.$emit("changeDisplayList",t))},handleCheckedOptionsChange(e){let t=e.length;this.checkAll=t===this.options.length,this.isIndeterminate=t>0&&t<this.options.length;let i=[];for(let l of this.checkedOptions)for(let e of this.allAgt)!e.topics.includes(l)&&!e.year.includes(l)||i.includes(e)||i.push(e);console.log("fliteredAgtNum",i.length),this.$emit("changeDisplayList",i)}}},h=i(3744);const g=(0,h.Z)(p,[["render",u],["__scopeId","data-v-be0a476a"]]);var m=g;const k=e=>((0,l.dD)("data-v-be90f708"),e=e(),(0,l.Cn)(),e),y={class:"country"},f=k((()=>(0,l._)("p",null,"Agreements",-1)));function w(e,t,i,a,n,s){return(0,l.wg)(),(0,l.iD)("div",y,[(0,l._)("h1",null,(0,d.zw)(i.title),1),f])}var C={props:["title"]};const D=(0,h.Z)(C,[["render",w],["__scopeId","data-v-be90f708"]]);var _=D;const v=e=>((0,l.dD)("data-v-4320e768"),e=e(),(0,l.Cn)(),e),L=v((()=>(0,l._)("hr",null,null,-1))),O={class:"agt-time"};function A(e,t,i,a,n,s){const o=(0,l.up)("el-link");return(0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.dataListDisplayed,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"doc-list",key:e},[L,(0,l.Wm)(o,{class:"agt-link",onClick:t=>s.toAgtView(e)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,d.zw)(e.agt),1)])),_:2},1032,["onClick"]),(0,l._)("p",O,(0,d.zw)(e.date),1)])))),128)}var W={props:["dataListDisplayed","title"],data(){return{country:this.title}},methods:{toAgtView(e){this.$router.push({name:"agreement",query:{title:`${this.country}`,id:`${e.id}`,agtName:`${e.agt}`,agtDate:`${e.date}`}})}},setup(){}};const P=(0,h.Z)(W,[["render",A],["__scopeId","data-v-4320e768"]]);var z=P,b=i(1634),H={components:{trackerHeader:r.Z,trackerFooter:c.Z,asideFilter:m,countryHeader:_,docList:z},data(){return{title:this.countryName,dataListDisplayed:this.agreementList,allAgt:this.agreementList,allOptions:this.topicOptions,filterList:[{title:"topics",value:this.topicOptions},{title:"dates",value:this.yearOptions}],sizePerPage:6,currentPage:1}},methods:{changeDisplayList(e){this.dataListDisplayed=e},currentChange(e){this.currentPage=e}},setup(){const e=(0,o.yj)();let t=e.query.title,i={},l=[];for(let o of b.h)o.name==t&&(i=o);let a="",n=[],s="",r="",c=[],d=[];for(let o of i.topics){a=o.text,n.push(a);let e=[];for(let[t,i]of o.agreements.entries()){s=i.name,r=i.id;let n="";if(0==d.includes(s)){d.push(s),e.push(a);let t=i.date.toString(),o=t.slice(0,4),u=t.slice(4,6),p=t.slice(6,8);n=o+"-"+u+"-"+p,0==c.includes(o)&&c.push(o),l.push({agt:s,id:r,date:n,year:o,topics:e})}else l[t].topics.push(a)}}return{countryName:t,data:i,agreementList:l,topicOptions:n,yearOptions:c}}};const I=(0,h.Z)(H,[["render",s],["__scopeId","data-v-d8823d9a"]]);var V=I}}]);
//# sourceMappingURL=522.b79d765a.js.map